{"name":"Rajah","tagline":"Rajah is a Jasmine spec runner for Node.js and Google apps script.","body":"# Rajah\r\n\r\nRajah is a [Jasmine 2.0](https://github.com/pivotal/jasmine) spec runner for Node.js\r\nand [Google apps script](https://developers.google.com/apps-script).\r\n\r\nWant to use GAS-Library now? [Here’s project key](#library-project-for-google-apps-script).\r\n\r\n\r\n\r\n## Version info:\r\n\r\n#### Rajah 2 v0.1.0 (development version) : branch [`Release/2.x`](https://github.com/tyskdm/rajah/tree/Release/2.x) (`master`)\r\n\r\n* new release for Jasmine 2.0\r\n* Rebuild whole project on Node.js environment.\r\n* Using [Code.gs](https://www.npmjs.org/package/codegs) to build for google apps script environment.\r\n\r\n#### Rajah v1.00b (stable version) : branch [`Release/1.0`](https://github.com/tyskdm/rajah/tree/Release/1.0)\r\n\r\n* Jasmine 1.3\r\n* Only Google apps script Library.\r\n\r\n\r\n\r\n## What’s Rajah?\r\n\r\nRajah is a simple Jasmine spec runner, but has 3 faces.\r\n\r\n1. Jasmine spec runner for **Node.js**.\r\n\r\n2. Jasmine spec runner for **Google apps script**.\r\n\r\n3. **Library project** for Google apps script.\r\n\r\n4. www.google.com/search?tbm=isch&q=rajah+jasmine\r\n\r\nRajah allows you to test Node.js project files in your PC’s command line shell. - (1)\r\n\r\nAnd also allows to pack Node.js module files and spec files into one source file.\r\nThat source code is executable on Google apps script environment and run all specs as same as on your PC. - (2)\r\n\r\nLast face of Rajah is Google apps script Library. In this case, Rajah is a thin wrapper of Jasmine.\r\nIt’s almost same as Jasmine itself, but simple and easy to use. - (3)\r\n\r\nFollowing sections explain those 3 ways to use Rajah / Jasmine 2.0.\r\n\r\n\r\n\r\n## Jasmine spec runner for Node.js\r\n\r\nNothing special. It's simple jasmine spec runner.\r\n\r\n\r\n#### Install\r\n\r\n```sh\r\n$ npm install -g rajah\r\n```\r\n\r\n\r\n#### usage\r\n\r\n```sh\r\n$ rajah SPECS [ options ]\r\n```\r\n\r\n- **SPECS**<br/>\r\n    Spec files or directories.\r\n\r\n- **Options**\r\n\r\n    - **-m RegExp / --match=RegExp**<br/>\r\n        Only math files in SPECS directories are loaded to run.\r\n\r\n    - **--color / --noColor**<br/>\r\n        Use color to report results.\r\n\r\n    - **-o FILEPATH / --output=FILEPATH**<br/>\r\n        Store result into that file.\r\n\r\n    - **Not implemented yet** : -r TYPE / --reporttype=TYPE<br/>\r\n        It will be 'console' or 'junit'.\r\n\r\n\r\n## Jasmine spec runner for Google apps script\r\n\r\nThis is for [codegs](https://github.com/tyskdm/codegs) user. Need understanding how `codegs` works first.\r\n* [codegs](https://github.com/tyskdm/codegs) is a tool to develop Google apps script application using Node.js development tools.<br/>\r\n\r\nRajah execute codegs to pack your project and spec files with special `doGet` spec runner function.\r\nYou can kick `doGet` by web IDE, HTTP Request(need to publish as web service), or Other triggers.\r\n\r\nFor quick understanding, see this sample.\r\n\r\n1. Open [`gas-console`](https://script.google.com/macros/s/AKfycbzZaq3NPqMHYBno7ByxV-bpTbDt6EZ4M_5-kjYXXeQ9HI-k_w8/exec).\r\n\r\n2. Open [sample project](https://script.google.com/d/1JRe4VsU9yLYMoQGDYALZN-uGQz7h9OeDGiqiTb7Oj3RVrqe8HuCVpZE7/edit) and run `doGet` function.\r\n\r\n3. Or access sample project as [web service](https://script.google.com/macros/s/AKfycbz_9m0u59d01xCk4UUvGDgTZqt3oY2G6kdSR5FVGXsSXh3yNm21/exec).\r\n\r\nSource files are in 'test/case-04'.\r\n\r\n\r\n\r\n#### Install\r\n\r\nNeed to install into project’s local directory.\r\n\r\n```sh\r\n$ npm install rajah        // NO -g option.\r\n```\r\n\r\nWhen package.json exists, install with `--save-dev` option.\r\n\r\n```sh\r\n$ npm install --save-dev rajah\r\n```\r\n\r\n\r\n#### Usage\r\n\r\n1. **Run Rajah in local Node.js environment**\r\n\r\n    rajah command is in local node_modules/.bin directory.\r\n\r\n    ```sh\r\n    $ ./node_modules/.bin/rajah SPECS [ options ]\r\n    ```\r\n\r\n    This works as same as above section (Jasmine spec runner for Node.js).\r\n\r\n\r\n2. **Compile with --codegs option switch**\r\n\r\n    Then, add option switch `--codegs` and you see merged long source code in your terminal.\r\n\r\n    `-o filepath` let Rajah to store source code in the file.\r\n\r\n    ```sh\r\n    $ ./node_modules/.bin/rajah SPECS [ options ]  --codegs -o out.js [ codegs-options ]\r\n    ```\r\n\r\n\r\n3. **Paste to Google apps script file**\r\n\r\n    Create new project for unit testing and open `Code.gs` file. Then paste into that file.\r\n\r\n\r\n4. **Open console**\r\n\r\n    Open [`gas-console`](https://script.google.com/macros/s/AKfycbzZaq3NPqMHYBno7ByxV-bpTbDt6EZ4M_5-kjYXXeQ9HI-k_w8/exec)\r\n    in onother browser window. >> [more about gas-console](https://www.npmjs.org/package/gas-console)\r\n\r\n\r\n5. **Run doGet function**\r\n\r\n    Back to google IDE.\r\n\r\n    On toolbar, select function `doGet` and press `Run` button.\r\n\r\n    You see result in gas-console window.\r\n\r\n\r\n\r\n#### Running mode of `doGet` function\r\n\r\n`doGet` function is able to be kicked by 3 ways.\r\n\r\n1. IDE Run / Debug button\r\n\r\n    Explained in usage section is this pattern.\r\n\r\n\r\n2. HTTP request\r\n\r\n    This is challenge to headless unit testing. (not complete)\r\n\r\n    - Deploy as web service your unit testing project.\r\n\r\n        1. Goto menu: `File` > `Manage versions...` and put version number.\r\n        2. Goto menu: `Publish` > `Deploy as web app...` and get URL of `Latest code`.\r\n\r\n    - Access that URL. When access by browser, result is displayed in the window.\r\n\r\n    - It's possible to add option values as url query parameters.\r\n\r\n        - Valid options: specs, showColor, match\r\n        - ex.  script.google.com/xxxxxx/exec/**?sepcs=test/spec&showColor=true**\r\n\r\n\r\n3. Timer or other triggers\r\n\r\n    Time trrigered unit testing for health checking.\r\n\r\n    `onComplete` option(see below) let you set any function to notify the result or store as you like.\r\n\r\n\r\n#### Execute options for doGet function\r\n\r\n\r\n**TO BE FILLED LATER**\r\n\r\n\r\n#### Command line options for --codegs\r\n\r\n```sh\r\n$ ./node_modules/.bin/rajah SPECS [ options ]  --codegs -o out.js [ codegs-options ]\r\n```\r\n\r\n- `-o FILEPATH / --output=FILEPATH`\r\n\r\n- `-p PACKAGEFILE / --package=PACKAGEFILE`\r\n\r\n\r\n#### Tips\r\n\r\n- Minimize file size\r\n\r\n\r\n\r\n\r\n## Library project for Google apps script\r\n\r\n#### Project keys\r\n\r\n**Rajah 2 v0.1.0**\r\n\r\n- Project key: MW3WzHQgUPiNsCAKwIwmYtVJodnbMh4p7\r\n- Console URL: https://script.google.com/macros/s/AKfycbzZaq3NPqMHYBno7ByxV-bpTbDt6EZ4M_5-kjYXXeQ9HI-k_w8/exec\r\n- [Sample project using rajah](https://script.google.com/d/11kk1FVsxDD3FgcR2hNmmHeVwjqww055VYy6ZO7NnCJeyN2pGfYbbRw_0/edit)\r\n\r\n**Rajah v1.00b**\r\n\r\n- Project key: Mn7JlN4wYLKUhi13E3mbpdVJodnbMh4p7\r\n- [Sample project using rajah](https://script.google.com/d/1D6qmc_sIehOP-p6__Z29uSQTbGYrcTF0wXIwWgsD2Hba8Onjf6EWrRym/edit)\r\n- [Sample's published web page](https://script.google.com/macros/s/AKfycbz5tA3qJOgNHU9M8pSM7hLHO76pg8A3mx_b7bqziHIpSCwXWus/exec)\r\n\r\nFollowing section explains usage of Rajah 2.<br/>\r\nFor v1.00b, See [README.md for v0.100b]().\r\n\r\n\r\n#### Install\r\n\r\n1. Open your apps script project.\r\n\r\n2. Goto menu: `Resources` > `Libraries...`\r\n\r\n3. Copy & paste project key(above) into `Find a Library` and press `Select` button.\r\n\r\n4. `rajah` will be showed up. select version(chose latest one).\r\n\r\n5. `Save` button.\r\n\r\n\r\n#### Usage\r\n\r\n1. **Write code**\r\n\r\n    Here's First sample code. You need to call only 2 methods.\r\n\r\n    ```js\r\n    rajah.init(this);\r\n\r\n    function MyFunction() {\r\n        // Any spec-code\r\n        describe(\"Rajah\", function () {\r\n            it(\"is the best friend of Jasmine.\", function () {\r\n                expect(rajah.rajah.hasOwnProperty('jasmine')).toBe(true);\r\n            });\r\n        });\r\n\r\n        rajah.run();\r\n    }\r\n    ```\r\n\r\n    Only 2 methods to call:\r\n\r\n    1. **rajah.init(this)**<br/>\r\n        At the top of sourcefile, call init method with `this` argument.<br/>\r\n        rajah copy Jasmine-interface functions into `this` object. At the top of sourcefile, `this` points global scope.\r\n\r\n    2. **rajah.run()**<br/>\r\n        Execute Jasmine after setup any spec-code.<br/>\r\n        Jasmine-interface functions setup spec-code but not execute at that timing. run method execute Jasmine.\r\n\r\n\r\n2. **Run your function**\r\n\r\n    On toolbar, select function you wrote. And then press `Run` or `Debug` button.<br/>\r\n    You see result in console window.\r\n\r\n\r\n\r\n#### Methods and Properties:\r\n\r\n- rajah.init(scopeObject)\r\n\r\n\r\n- rajah.run(onComplete)\r\n\r\n\r\n- rajah.addReporter(reporter)\r\n\r\n\r\n- rajah.addConsoleReporter(showColor, print)\r\n\r\n\r\n- rajah.jasmine\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}